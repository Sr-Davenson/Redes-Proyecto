<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Calculadora VLSM</title>
  <link rel="stylesheet" href="../CSS/styleVLSM.css">
  <link rel="icon" type="image/x-icon" href="../Recuorse/Icon2.ico">
</head>
<body>
  <div class="menu">
    <div class="branding">
      <a href="../index.html">
        <img src="../Recuorse/Icon2.ico" alt="Logo">
      </a>
      <div class="texto-logo">Calculadora IPv4, VLSM y FLSM</div>
    </div>
    <div class="botonInicio">
      <a href="../index.html">Inicio</a>
      <a href="ipv4.html">Calculadora IP</a>
      <a href="flsm.html">FLSM</a>
      <a href="vlsm.html">VLSM</a>
      <button id="toggle-tema" class="boton-tema">
        <img id="icono-tema" src="../Recuorse/dark_mode.png" alt="Cambiar tema">
      </button>
    </div>
  </div>

  <section class="contenedor">
    <h2>ðŸ“¡ Calculadora VLSM</h2>

    <label for="ip">DirecciÃ³n IP:</label>
    <input type="text" id="ip" placeholder="Ej: 192.168.1.0">

    <label for="prefijo">Prefijo de red:</label>
    <input type="number" id="prefijo" placeholder="Ej: 24" min="1" max="32">

    <label for="cantidad">Cantidad de subredes:</label>
    <input type="number" id="cantidad" placeholder="Ej: 4" min="1">

    <button onclick="calcularVLSM()" class="boton">CALCULAR</button>
    <button onclick="verExplicacion()" class="boton">ðŸ“˜ Ver explicaciÃ³n</button>
    <button onclick="exportarPDF()" class="boton">Exportar resultados a PDF</button>

    <div id="tablaSubredes"></div>
    <div id="vlsmResultados"></div>
  </section>

  <a href="../index.html" class="boton">Volver</a>

  <script src="../JS/calcularVLSM.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const body = document.body;
      const botonTema = document.getElementById("toggle-tema");
      const iconoTema = document.getElementById("icono-tema");

      const iconos = {
        oscuro: {
          normal: "../Recuorse/light_mode.png",
          hover: "../Recuorse/light_mode.png"
        },
        claro: {
          normal: "../Recuorse/dark_mode.png",
          hover: "../Recuorse/dark_mode.png"
        }
      };

      const temaGuardado = localStorage.getItem("tema");
      if (temaGuardado === "modo-claro") {
        body.classList.add("modo-claro");
        iconoTema.src = iconos.claro.normal;
      } else {
        body.classList.add("modo-oscuro");
        iconoTema.src = iconos.oscuro.normal;
      }

      botonTema.addEventListener("click", () => {
        if (body.classList.contains("modo-oscuro")) {
          body.classList.replace("modo-oscuro", "modo-claro");
          localStorage.setItem("tema", "modo-claro");
          iconoTema.src = iconos.claro.normal;
        } else {
          body.classList.replace("modo-claro", "modo-oscuro");
          localStorage.setItem("tema", "modo-oscuro");
          iconoTema.src = iconos.oscuro.normal;
        }
      });

      botonTema.addEventListener("mouseenter", () => {
        if (body.classList.contains("modo-oscuro")) {
          iconoTema.src = iconos.oscuro.hover;
        } else {
          iconoTema.src = iconos.claro.hover;
        }
      });

      botonTema.addEventListener("mouseleave", () => {
        if (body.classList.contains("modo-oscuro")) {
          iconoTema.src = iconos.oscuro.normal;
        } else {
          iconoTema.src = iconos.claro.normal;
        }
      });
    });
  </script>
</body>
</html>